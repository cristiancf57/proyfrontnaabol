
<div class="col-12">
    <div class="card">
      <div class="card-body">
      <h5 class="card-title">mantenimiento <span>| {{ currentFilter }}</span></h5>

      <!-- Search Bar -->
      <div class="row mb-3">
        <div class="col-md-4">
          <div class="input-group">
            <span class="input-group-text">
              <i class="bi bi-search"></i>
            </span>
            <input 
              type="text" 
              class="form-control" 
              placeholder="Buscar Activo"
              (input)="onSearch($event)">
          </div>
        </div>
        <div class="col-md-6 text-end">
          <small class="text-muted">Filtrados {{ mantenimientosFiltrados.length }} de {{ mantenimientos.length }} mantenimientos</small>
        </div>
      </div>

      <table class="table table-hover table-striped">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Equipo</th>
            <th scope="col">estado</th>
            <th scope="col">Activo</th>
            <th scope="col">Fecha</th>
            <th scope="col">ip</th>
            <th scope="col">Mantenimiento</th>
            <th scope="col">Accion</th>
          </tr>
        </thead>
        <tbody>
            <tr *ngFor="let item of mantenimientosFiltrados; let i = index">
                <th scope="row">{{ i + 1}}</th>
                <th><a class="text-primary-emphasis " [routerLink]="['/dashboard/form-actividad', item.id]">{{ item.activo?.detalle }}</a></th>
                <td><span class="badge" [class]="getEstadoClass(item.activo?.estado)">{{ item.activo?.estado || 'Desconocido' }}</span></td>
                <th scope="row">{{ item.activo?.codigo}}</th>
                <td>{{ item.fecha }}</td>
                <td>{{ item.activo?.ip }}</td>
                <td><span class="badge" [class]="getEstadoBadgeClass(item.estado)">
                  {{ item.estado }}
                </span></td>
                <td class="text-center">
                  <a class="icon " data-bs-toggle="dropdown"><i class="bi bi-database-fill-gear text-info-emphasis"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow text-center ">
                    <li><a><i [routerLink]="['/dashboard/form-actividad', item.id]" class="bi bi-eye text-info-emphasis"> Realizar</i></a></li>
                    <li><a><i (click)="cancelar(item)" class="bi bi-pencil-square text-info"> Cancelar</i></a></li>
                    <li><a><i (click)="eliminar(item)" class="bi bi-trash text-danger"> Eliminar</i></a></li>
                  </ul>
                </td>
            </tr>
        </tbody>
      </table>
    </div>
    </div>
</div><!-- End Reports -->